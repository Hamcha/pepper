<polymer-element name="hud-menu">
<template>
	<style>
	div#lowerhud { 
		margin: 0 auto; text-align: center; 
		position: fixed; bottom: 10px; left: 0; right: 0;
	}
	div.btnzone, div.selectorzone { display: inline-block; }
	div.btnrow { 
		margin-bottom: -15px;
	}
	div.btnrowalt { 
		margin-top: -15px;
	}
	div#selector { 
		position: relative; background-size:cover; width: 160px; height: 190px; bottom: 35px;
		display: inline-block; background-image: url(../assets/UI/DisplayBehind.svg);
		margin: 0 -25px; 
	}
	div#selecteditem { position: absolute; left: 5px; right:5px; top: 30%; margin: 0 auto;}
	div#selecteditem > img { position: relative; max-width: 140px; max-height: 170px; width: 50%; height: 50%; }
	img#overselector { position: absolute; top: 48px; left: 0; width: 162px; }
	</style>
	<div id="lowerhud">
	<div class="btnzone">
		<div class="btnrow">
			<hud-button hotkey="2" hkside="left" icon="Map"></hud-button>
			<hud-button hotkey="4" hkside="left" icon="Communications"></hud-button>
		</div>
		<div class="btnrowalt">
			<hud-button hotkey="1" hkside="left" scope="HUD" call="switchCamera" icon="Camera"></hud-button>
			<hud-button hotkey="3" hkside="left"></hud-button>
			<hud-button hotkey="5" hkside="left"></hud-button>
		</div>
	</div>
	<div class="selectorzone">
		<div id="selector">
			<div id="selecteditem"><img src="../assets/UI/icons/EngineOff.svg" /></div>
			<img id="overselector" src="../assets/UI/DisplayOver.svg" />
		</div>
	</div>
	<div class="btnzone">
		<div class="btnrow">
			<hud-button hotkey="7" hkside="right"></hud-button>
			<hud-button hotkey="9" hkside="right" toggle="true" icon="EngineOn" switchTo="EngineOff"></hud-button>
		</div>
		<div class="btnrowalt">
			<hud-button hotkey="6" hkside="right"></hud-button>
			<hud-button hotkey="8" hkside="right" icon="Hyperspace"></hud-button>
			<hud-button hotkey="10" hkside="right" toggle="true" icon="Labels" switchTo="LabelsOff"></hud-button>
		</div>
	</div>
	</div>
</template>
<script>Polymer('hud-menu');</script>
</polymer-element>

<polymer-element name="hud-button" attributes="hotkey hkside icon switchTo toggle call scope">
<template>
	<style>
	div.hudButton { 
		position: relative; background-size:cover; width: 60px; height: 70px;
		display: inline-block; background-image: url(../assets/UI/Button.svg); 
		cursor: pointer;
	}
	div.hudButton > img {
		position: absolute; width: 60%; height: 60%; left: 13px; top: 15px;
	}
	div.hotkey { 
		position: absolute; bottom: 13px; font-size: 20px;
		color: rgba(255,255,255,.5); font-family: "Source Sans Pro"; font-weight: 300;
		z-index: 10;
	}
	div.hotkeyleft { left: 3px; }
	div.hotkeyright { right: 3px; }
	</style>
	<div class="hudButton" on-click="trigger">
		<img src="assets/UI/icons/{{icon}}.svg" />
		<div class="hotkey hotkey{{hkside}}">{{hotkey}}</div>
	</div>
</template>
<script>
Polymer('hud-button',{
	hotkey: "",
	hkside: "left",
	icon: "empty",
	toggle: null,
	call: null,
	scope: "window",
	trigger: function () { 
		sp = this.getAttribute("scope");
		fn = this.getAttribute("call");
		if (fn !== null) window[sp][fn]();
	},
	created: function () { 
		sp = this.getAttribute("scope");
		hk = this.getAttribute("hotkey");
		fn = this.getAttribute("call");
		if (hk !== "" && fn !== null)
			window.Hotkeys.push({ key: hk, callback: window[sp][fn], element: this });
	}
});
</script>
</polymer-element>

<polymer-element name="hud-date" attributes="selected date monthNames">
<template>
	<style>
	div#upperhud { 
		margin: 0 auto; text-align: center; color: #fff;
		position: fixed; top: 10px; left: 0; right: 0;
	}
	div#timebar { 
		display: inline-block; width: 220px; height: 33px; position: relative;
		background-size:cover; background-image: url(../assets/UI/DateTime.svg);
		font-size: 24px; font-weight: 200;
	}
	span#worlddate { position: absolute; left: 10px; }
	span#worldtime { position: absolute; right: 7px; }

	ul.speedtoggle { list-style-type: none; margin: 0; padding: 0 }
	ul.speedtoggle > li { 
		display: inline-block; margin: 2px; padding: 1px 3px; background-color: #000; border-width: 1px;
		border-image: linear-gradient(#ccc, #666) 14% stretch; cursor: pointer;
	}
	ul.speedtoggle > li.selected {
		background-color: #fff; color: #000; border-image: linear-gradient(#666, #ccc) 14% stretch;
	}
	</style>
	<div id="upperhud">
		<div id="timebar"><span id="worlddate">01 Jan 4000</span><span id="worldtime">00:00:00</time></div><br />
		<ul class="speedtoggle"><li id="speed0" on-click="setSpeed">0x</li><li id="speed1" on-click="setSpeed">1x</li><li id="speed10" on-click="setSpeed">10x</li><li id="speed100" on-click="setSpeed">100x</li><li id="speed1000" on-click="setSpeed">1000x</li><li id="speed10000" on-click="setSpeed">10000x</li></ul>
	</div>
</template>
<script>
Polymer('hud-date',{
	monthNames : ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],
	selected: "speed1",
	date: 0,
	setSpeed: function (e) { this.setAttribute("selected", e.srcElement.id); },
	updateSpeed: function () {
		for (id in this.$)
		{
			if (id.indexOf("speed") < 0) continue;
			this.$[id].className = "";
		}
		this.$[this.getAttribute("selected")].className = "selected";
	},
	setDate: function (date) {
		datetime = new Date(date);
		this.$.worlddate.innerHTML = [datetime.getDate(), this.getAttribute("monthNames")[datetime.getMonth()].substr(0,3), datetime.getFullYear()].join(" ");
		this.$.worldtime.innerHTML = [datetime.getHours(), datetime.getMinutes(), datetime.getSeconds()].join(":");
	},
	created: function () { this.updateSpeed(); },
	attributeChanged: function () { this.updateSpeed(); this.setDate(this.getAttribute("date")); }
});</script>
</polymer-element>